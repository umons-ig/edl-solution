name: CI Pipeline

# Workflow orchestrateur qui appelle backend et frontend en parallÃ¨le
on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  # Job 1 : Appeler le workflow Backend
  backend:
    name: Backend Tests
    uses: ./.github/workflows/backend.yml    # Appelle backend.yml

  # Job 2 : Appeler le workflow Frontend (en parallÃ¨le)
  frontend:
    name: Frontend Tests
    uses: ./.github/workflows/frontend.yml   # Appelle frontend.yml

  # Job 3 : RÃ©sumÃ© final (attend que les deux rÃ©ussissent)
  summary:
    name: All Tests Passed
    runs-on: ubuntu-latest
    needs: [backend, frontend]    # Attend que backend ET frontend rÃ©ussissent

    steps:
      - name: âœ… Success
        run: |
          echo "ðŸŽ‰ Tous les tests sont passÃ©s !"
          echo "âœ… Backend : OK"
          echo "âœ… Frontend : OK"
